# ğŸ“Quâ€™est-ce que ERC-20 ?

> Câ€™est un standard de token fongible (= chaque unitÃ© est interchangeable, comme de lâ€™argent) sur Ethereum.

### Un token ERC-20 expose obligatoirement des fonctions standards :

| Fonction                                  | RÃ´le                                          |
| ----------------------------------------- | --------------------------------------------- |
| `totalSupply()`                           | Montant total de tokens                       |
| `balanceOf(address)`                      | Solde dâ€™une adresse                           |
| `transfer(address, uint256)`              | Transfert direct de tokens                    |
| `approve(address, uint256)`               | Autoriser un tiers Ã  dÃ©penser pour soi        |
| `allowance(address, address)`             | Lire combien un tiers peut dÃ©penser           |
| `transferFrom(address, address, uint256)` | Tiers effectue un transfert avec autorisation |


### Et des Ã©vÃ©nements :
| Ã‰vÃ©nement  | RÃ´le                       |
| ---------- | -------------------------- |
| `Transfer` | Notification de transfert  |
| `Approval` | Notification dâ€™approbation |



> ğŸ‘‰ Cette partie sera simplifier par OpenZeppelin, qui fournit des implÃ©mentations de rÃ©fÃ©rence qui va nous faciliter l'implÃ©mentation de la norme ERC-20.


# ğŸ”¥ Notre contrat

```solidity
import "@openzeppelin/contracts/token/ERC20/ERC20.sol";
import "@openzeppelin/contracts/access/Ownable.sol";

/// Inherit from ERC20 and Ownable
contract MeliSsa42 is ERC20, Ownable {

    /// @notice Constructor that mints the initial supply to the deployer's address
    /// @param initialSupply Initial token supply, in units of token * (10 ** decimals())
    constructor(uint256 initialSupply) ERC20("MeliSsa42", "MS42") Ownable(msg.sender) {
        _mint(msg.sender, initialSupply);
    }

    /// @notice Mint new tokens to a specific address
    /// @param to Recipient address
    /// @param amount Amount of tokens to mint
    function mint(address to, uint256 amount) public onlyOwner {
        _mint(to, amount);
    }
}
```

### ğŸ“š Explications dÃ©taillÃ©e de MeliSsa42

Notre contrat hÃ©rite de deux contrats standards dâ€™OpenZeppelin :

- **ERC20** â†’ fournit toute lâ€™implÃ©mentation standard du token ERC-20 (cf. section prÃ©cÃ©dente).
- **Ownable** â†’ permet de dÃ©finir un propriÃ©taire du contrat (owner) avec des droits spÃ©cifiques.

### ğŸ¤¨ Pourquoi utiliser Ownable ?

Le sujet demande de rÃ©flÃ©chir Ã  la sÃ©curitÃ© et aux privilÃ¨ges.

#### ğŸ‘‰ Dans un token ERC-20 de base, toutes les fonctions comme transfer, approve, etc. sont ouvertes Ã  tous.

#### ğŸ‘‰ Par contre, la fonction mint (crÃ©ation de nouveaux tokens) doit Ãªtre protÃ©gÃ©e car câ€™est une action puissante qui peut impacter lâ€™Ã©conomie du token.

â†’ Câ€™est pour Ã§a qu'on hÃ©rite de Ownable     

Ã‡a nous permet de restreindre lâ€™accÃ¨s Ã  certaines fonctions sensibles avec le modificateur onlyOwner.
Comment fonctionne Ownable ?

- Lors du dÃ©ploiement du contrat, le owner est dÃ©fini comme lâ€™adresse qui dÃ©ploie le contrat (msg.sender).

- Le contrat expose une fonction publique owner() qui retourne lâ€™adresse actuelle du propriÃ©taire.

- Il expose aussi des fonctions pour transfÃ©rer lâ€™ownership (transferOwnership) ou renoncer Ã  lâ€™ownership (renounceOwnership).

â†’ Cela permet de gÃ©rer qui a le droit dâ€™appeler les fonctions protÃ©gÃ©es.

### Fonction ```mint```

Nous avons dÃ©fini une fonction supplÃ©mentaire :
```solidity
function mint(address to, uint256 amount) public onlyOwner {
    _mint(to, amount);
}
```
#### Pourquoi ?
- Le standard ERC-20 ne prÃ©voit pas forcÃ©ment de fonction mint publique.

- Ici, nous voulons pouvoir dÃ©montrer dynamiquement lâ€™opÃ©ration de notre token en crÃ©ant de nouveaux tokens si besoin.

#### SÃ©curitÃ©

- Seul le owner du contrat peut appeler cette fonction (onlyOwner).

- Cela garantit que personne ne peut frauder en mintant des tokens sans autorisation.

#### DÃ©monstration minimale attendue :

- Appeler mint avec un compte owner fonctionne.

- Tenter dâ€™appeler mint avec un compte externe (non owner) Ã©choue.