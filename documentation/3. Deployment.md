## üöÄ Objectif du scripts/deploy.js

Ce script va te permettre de :
- ‚úÖ d√©ployer ton contrat MeliSsa42 sur n‚Äôimporte quel r√©seau (local, testnet Sepolia, mainnet si tu voulais un jour)
- ‚úÖ personnaliser l‚Äôinitial supply de ton token
- ‚úÖ garder le contr√¥le complet de ce qu'on fait par rapport √† Remix ou autre, c'est plus p√©dagogique.

> Sepolia = testnet d'Ethereum

## üìö Rappel du contrat

Le constructeur est :
```c++
    constructor(uint256 initialSupply) ERC20("MeliSsa42", "MS42") {
        _mint(msg.sender, initialSupply);
    }
```
Au d√©ploiment, on devra passer un initialSupply (exprim√© en "wei de token", c‚Äôest-√†-dire en tenant compte des d√©cimales).

Par d√©faut les tokens ERC-20 ont 18 d√©cimales.

üëâ Pour un token avec par exemple 1 million d‚Äôunit√©s visibles, on doit passer :
```1_000_000 * 10 ** 18.```

## üîç Explication du script

| Ligne                              | R√¥le                                                                     |
| ---------------------------------- | ------------------------------------------------------------------------ |
| `ethers.parseUnits("1000000", 18)` | Convertit "1 million" en format token avec 18 d√©cimales                  |
| `getContractFactory("MeliSsa42")`  | Charge le bytecode + ABI de ton contrat compil√©                          |
| `deploy(initialSupply)`            | D√©ploie le contrat sur le r√©seau cible avec `initialSupply` en param√®tre |
| `waitForDeployment()`              | Attend que la transaction de d√©ploiement soit min√©e                      |
| `getAddress()`                     | R√©cup√®re l‚Äôadresse du contrat d√©ploy√©                                    |


## üß™ Test du script en local (Hardhat Network)

Avant de d√©ployer sur Sepolia, on peut d√©j√† tester localement (r√©seau local simul√© de Hardhat)

```npx hardhat run scripts/deploy.js```


## üåç Ce qu'il faut pour d√©ployer sur Sepolia

### 1Ô∏è‚É£ Un RPC URL vers un n≈ìud Ethereum sur Sepolia  

Ici on a plusieurs solutions pour obtenir un RPC pour se connecter √† la blockchain.    
On choisit la simplicit√© et on g√©n√©re une cl√© Ethereum Sepolia Testnet depuis `Metamask developer` (anciennement `infuria`) :     
**https://developer.metamask.io**

### 2Ô∏è‚É£ Une cl√© priv√©e pour signer les transactions (le compte qui va d√©ployer le contrat)  

On doit utiliser un wallet Ethereum, par exemple Metamask :
- Cr√©e un compte ou utilise un compte existant.
- Ajoute le r√©seau Sepolia dans Metamask.
- Obtiens des ETH de test depuis un faucet Sepolia : https://sepoliafaucet.com
- Export private key ‚Üí dans les options avanc√©es du compte.
‚Üí N√©cessaire pour pouvoir envoyer une transaction sur la blockchain.    
> ‚ö†Ô∏è Attention : la cl√© priv√©e est un secret, on ne la met jamais en dur dans le code.

### 3Ô∏è‚É£ Configurer Hardhat pour lui dire comment utiliser tout √ßa.

En ajoutant √† notre config hardhat ceci :
```js
networks: {
    sepolia: {
        url: SEPOLIA_RPC_URL,
        accounts: [PRIVATE_KEY],
    },
},
```

On peut finalement utiliser l'option ```--network``` √† notre commande :

```sh
$ npx hardhat run scripts/deploy.js --network sepolia
üöÄ Deploying MeliSsa42 token...
‚è≥ Waiting for deployment...
‚úÖ MeliSsa42 deployed at address: 0x86419Bd80Ee8Bb3B7ae870A4ce8f29B7CDef2c5F
‚úÖ Balance of 0x86419Bd80Ee8Bb3B7ae870A4ce8f29B7CDef2c5F: 0
‚úÖ Total supply: 1000000000000000000000000
```


### R√©sultat

- Ton contrat sera r√©ellement d√©ploy√© sur Sepolia.
- L‚Äôadresse affich√©e sera publique
- On peut la coller sur https://sepolia.etherscan.io pour voir notre token.