## ğŸš€ Objectif du scripts/deploy.js

Ce script va te permettre de :
- âœ… dÃ©ployer ton contrat MeliSsa42 sur nâ€™importe quel rÃ©seau (local, testnet Sepolia, mainnet si tu voulais un jour)
- âœ… personnaliser lâ€™initial supply de ton token
- âœ… garder le contrÃ´le complet de ce qu'on fait par rapport Ã  Remix ou autre, c'est plus pÃ©dagogique.

> Sepolia = testnet d'Ethereum

## ğŸ“š Rappel du contrat

Le constructeur est :
```c++
    constructor(uint256 initialSupply) ERC20("MeliSsa42", "ML42") {
        _mint(msg.sender, initialSupply);
    }
```
Au dÃ©ploiment, on devra passer un initialSupply (exprimÃ© en "wei de token", câ€™est-Ã -dire en tenant compte des dÃ©cimales).

Par dÃ©faut les tokens ERC-20 ont 18 dÃ©cimales.

ğŸ‘‰ Pour un token avec par exemple 1 million dâ€™unitÃ©s visibles, on doit passer :
```1_000_000 * 10 ** 18.```

## ğŸ” Explication du script

| Ligne                              | RÃ´le                                                                     |
| ---------------------------------- | ------------------------------------------------------------------------ |
| `ethers.parseUnits("1000000", 18)` | Convertit "1 million" en format token avec 18 dÃ©cimales                  |
| `getContractFactory("MeliSsa42")`  | Charge le bytecode + ABI de ton contrat compilÃ©                          |
| `deploy(initialSupply)`            | DÃ©ploie le contrat sur le rÃ©seau cible avec `initialSupply` en paramÃ¨tre |
| `waitForDeployment()`              | Attend que la transaction de dÃ©ploiement soit minÃ©e                      |
| `getAddress()`                     | RÃ©cupÃ¨re lâ€™adresse du contrat dÃ©ployÃ©                                    |


## ğŸ§ª Test du script en local (Hardhat Network)

Avant de dÃ©ployer sur Sepolia, on peut dÃ©jÃ  tester localement (rÃ©seau local simulÃ© de Hardhat)

```npx hardhat run scripts/deploy.js```


## ğŸŒ Ce qu'il faut pour dÃ©ployer sur Sepolia

### 1ï¸âƒ£ Un RPC URL vers un nÅ“ud Ethereum sur Sepolia  

Ici on a plusieurs solutions pour obtenir un RPC pour se connecter Ã  la blockchain.    
On choisit la simplicitÃ© et on gÃ©nÃ©re une clÃ© Ethereum Sepolia Testnet depuis Metamask developer (anciennement infuria) :     
**https://developer.metamask.io**

### 2ï¸âƒ£ Une clÃ© privÃ©e pour signer les transactions (le compte qui va dÃ©ployer le contrat)  

On doit utiliser un wallet Ethereum, par exemple Metamask :
- CrÃ©e un compte ou utilise un compte existant.
- Ajoute le rÃ©seau Sepolia dans Metamask.
- Obtiens des ETH de test depuis un faucet Sepolia : https://sepoliafaucet.com
- Export private key â†’ dans les options avancÃ©es du compte.
â†’ NÃ©cessaire pour pouvoir envoyer une transaction sur la blockchain.    
> âš ï¸ Attention : la clÃ© privÃ©e est un secret, on ne la met jamais en dur dans le code.

### 3ï¸âƒ£ Configurer Hardhat pour lui dire comment utiliser tout Ã§a.

En ajoutant Ã  notre config hardhat ceci :
```js
networks: {
    sepolia: {
        url: SEPOLIA_RPC_URL,
        accounts: [PRIVATE_KEY],
    },
},
```

On peut finalement utiliser l'option ```--network``` Ã  notre commande :

```sh
âœ  code git:(main) âœ— npx hardhat run scripts/deploy.js --network sepolia
ğŸš€ Deploying MeliSsa42 token...
â³ Waiting for deployment...
âœ… MeliSsa42 deployed at address: 0x86419Bd80Ee8Bb3B7ae870A4ce8f29B7CDef2c5F
âœ… Balance of 0x86419Bd80Ee8Bb3B7ae870A4ce8f29B7CDef2c5F: 0
âœ… Total supply: 1000000000000000000000000
```


### RÃ©sultat

- Ton contrat sera rÃ©ellement dÃ©ployÃ© sur Sepolia.
- Lâ€™adresse affichÃ©e sera publique
- On peut la coller sur https://sepolia.etherscan.io pour notre token.